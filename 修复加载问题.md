# 🔧 修复网站加载问题

## 问题诊断

你的网站地址：https://personalweb-omega-six.vercel.app/doc/2d974318f7ec8063ab63ecd5a7ecddbe

网站显示"正在加载文档内容..."，说明：
- ✅ 网站已成功部署
- ✅ 前端代码正常工作
- ❌ 后端 API 可能无法访问 Notion（环境变量未配置）

---

## 解决方案：配置环境变量

### 步骤 1：进入 Vercel 项目设置

1. 访问：https://vercel.com
2. 登录你的账号
3. 找到项目 `personalweb`
4. 点击进入项目

### 步骤 2：添加环境变量

1. 点击顶部的 **"Settings"** 标签
2. 在左侧菜单中找到 **"Environment Variables"**
3. 点击进入

### 步骤 3：添加第一个环境变量

点击 **"Add New"** 或 **"Add Environment Variable"**：

- **Key（键名）**: `NOTION_API_TOKEN`
- **Value（值）**: `你的_notion_token`（从 Notion 集成页面获取）
- **Environment（环境）**: 
  - ✅ 勾选 **Production**
  - ✅ 勾选 **Preview**
  - ✅ 勾选 **Development**

点击 **"Save"**

### 步骤 4：添加第二个环境变量

再次点击 **"Add New"**：

- **Key（键名）**: `NEXT_PUBLIC_SITE_URL`
- **Value（值）**: `https://personalweb-omega-six.vercel.app`
- **Environment（环境）**: 
  - ✅ 勾选 **Production**
  - ✅ 勾选 **Preview**
  - ✅ 勾选 **Development**

点击 **"Save"**

### 步骤 5：重新部署

1. 返回 **"Deployments"** 标签
2. 找到最新的部署
3. 点击右侧的 **"..."** 菜单
4. 选择 **"Redeploy"**
5. 确认重新部署
6. 等待部署完成（1-2 分钟）

---

## 验证修复

部署完成后：

1. **等待 1-2 分钟**（让部署完成）
2. **刷新网站**：https://personalweb-omega-six.vercel.app/doc/2d974318f7ec8063ab63ecd5a7ecddbe
3. **检查内容**：
   - 应该能看到 Notion 文档内容
   - 不再是"正在加载..."

---

## 如果还是不行

### 检查 1：确认 Notion 页面已连接集成

1. 打开你的 Notion 页面：https://www.notion.so/HOVER-web-2d974318f7ec8063ab63ecd5a7ecddbe
2. 点击右上角 **"..."** 菜单
3. 选择 **"连接"** (Connections)
4. 确认你的集成已连接

### 检查 2：查看部署日志

1. 在 Vercel 项目页面
2. 进入 **"Deployments"** 标签
3. 点击最新的部署
4. 查看 **"Function Logs"** 或 **"Build Logs"**
5. 查找错误信息

### 检查 3：测试 API

在浏览器中访问：
```
https://personalweb-omega-six.vercel.app/api/notion?pageId=2d974318f7ec8063ab63ecd5a7ecddbe
```

如果看到错误信息，说明环境变量可能还没生效。

---

## 快速检查清单

- [ ] 环境变量 `NOTION_API_TOKEN` 已添加
- [ ] 环境变量 `NEXT_PUBLIC_SITE_URL` 已添加
- [ ] 环境变量选择了所有环境（Production, Preview, Development）
- [ ] 已重新部署（Redeploy）
- [ ] 等待部署完成（1-2 分钟）
- [ ] 刷新网站检查

---

## 需要帮助？

如果配置环境变量后还是不行，告诉我：
1. 环境变量是否已添加？
2. 重新部署是否完成？
3. 网站现在显示什么？

我会继续帮你排查问题！

