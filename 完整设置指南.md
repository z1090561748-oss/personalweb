# 🎨 完整网站设置指南

## 当前配置

- **首页数据库 ID**: `2db74318f7ec801eb72ee716ec4692ab`
- **首页 URL**: https://www.notion.so/Home-2db74318f7ec801eb72ee716ec4692ab

---

## 步骤 1：在 Notion 中设置数据库

### 1.1 打开首页页面

访问：https://www.notion.so/Home-2db74318f7ec801eb72ee716ec4692ab

### 1.2 创建数据库

有两种方式：

#### 方式 A：在页面中插入数据库（推荐）

1. 在页面中输入 `/database` 或 `/table`
2. 选择 "Table - Inline"
3. 数据库会插入到页面中

#### 方式 B：创建独立数据库页面

1. 创建新页面
2. 选择 "Table - Full page"
3. 创建后，将数据库链接添加到首页

### 1.3 设置数据库属性（列）

数据库需要包含以下列：

| 属性名 | 类型 | 说明 | 必需 |
|--------|------|------|------|
| **Name** | Title | 作品名称（自动创建） | ✅ |
| **Page ID** | Text | 对应作品页面的 ID | ✅ |
| **Cover** | Files & media | 展示图片 | ✅ |
| **Description** | Text | 作品描述 | ❌ |
| **Category** | Select | 作品分类 | ❌ |
| **Date** | Date | 创建日期 | ❌ |

**重要：**
- **Name** 列会自动创建，不需要手动添加
- **Page ID** 必须是 Text 类型
- **Cover** 必须是 Files & media 类型

### 1.4 添加作品数据

在数据库中添加每一行作品：

**示例：**

| Name | Page ID | Cover | Description |
|------|---------|-------|-------------|
| HOVER web | 2d974318f7ec8063ab63ecd5a7ecddbe | [上传图片] | 新媒体艺术项目 |
| 作品2 | abc123def45678901234567890123456 | [上传图片] | 描述... |

**填写说明：**
1. **Name**：输入作品名称
2. **Page ID**：输入对应 Notion 页面的 ID（32位，不含连字符）
   - 从作品页面 URL 中提取
   - 例如：`https://www.notion.so/Page-2d974318f7ec8063ab63ecd5a7ecddbe`
   - ID 是：`2d974318f7ec8063ab63ecd5a7ecddbe`
3. **Cover**：上传展示图片（支持 JPG、PNG、WebP）
4. **Description**：输入作品描述（可选）

### 1.5 连接集成

**重要：必须连接集成！**

1. 点击数据库右上角的 "..." 菜单
2. 选择 "连接" (Connections)
3. 选择你的 Notion 集成

**同时，每个作品页面也需要连接集成：**
- 打开每个作品页面
- 点击 "..." → "连接"
- 选择你的集成

---

## 步骤 2：获取数据库 ID

### 如果数据库在页面中（child_database）

网站会自动从页面中查找数据库，无需手动获取 ID。

### 如果是独立数据库

1. 点击数据库右上角的 "..." 菜单
2. 选择 "Copy link"
3. 从链接中提取 ID：
   - 链接：`https://www.notion.so/数据库标题-{32位ID}`
   - ID 是最后的 32 位字符

---

## 步骤 3：验证配置

### 3.1 检查配置文件

打开 `config/pages.json`，确认：

```json
{
  "databaseId": "2db74318f7ec801eb72ee716ec4692ab"
}
```

### 3.2 测试 API

访问（替换为你的域名）：
```
https://你的域名/api/notion/portfolio
```

应该返回 JSON 数据，包含作品列表。

### 3.3 检查首页

访问网站首页，应该能看到：
- 作品卡片列表
- 每个卡片显示图片、名称、描述
- 点击卡片可以跳转

---

## 步骤 4：部署更新

### 4.1 提交代码

```bash
git add .
git commit -m "配置首页数据库"
git push
```

### 4.2 Vercel 自动部署

Vercel 会自动检测并部署更新。

---

## 数据库结构示例

```
┌─────────────────────────────────────────────────────────────┐
│ Name        │ Page ID                    │ Cover │ Desc │
├─────────────────────────────────────────────────────────────┤
│ HOVER web   │ 2d974318f7ec8063ab63ecd... │ [图]  │ ...  │
│ 数字艺术    │ abc123def4567890123456...   │ [图]  │ ...  │
│ 交互装置    │ def456abc1237890123456...   │ [图]  │ ...  │
└─────────────────────────────────────────────────────────────┘
```

---

## 常见问题

### Q: 首页显示"暂无作品"？
A: 
1. 检查数据库是否已连接到集成
2. 检查数据库属性名称是否正确（Name, Page ID, Cover）
3. 确认每个作品都有 Page ID

### Q: 图片不显示？
A:
1. 检查 Cover 列的类型是否为 Files & media
2. 确认图片已上传
3. 检查图片 URL 是否可访问

### Q: 点击卡片无法跳转？
A:
1. 检查 Page ID 是否正确（32位）
2. 确认对应的作品页面已连接到集成
3. 检查作品页面是否存在

### Q: 如何添加新作品？
A:
1. 在 Notion 数据库中添加新行
2. 填写 Name、Page ID、Cover 等信息
3. 刷新网站首页即可看到

---

## 完成检查清单

- [ ] 在 Notion 首页创建了数据库
- [ ] 设置了正确的属性（Name, Page ID, Cover）
- [ ] 添加了至少一个作品
- [ ] 数据库已连接到集成
- [ ] 每个作品页面已连接到集成
- [ ] 配置文件已更新（databaseId）
- [ ] 代码已提交并部署

---

## 需要帮助？

如果遇到问题，告诉我：
1. 具体的错误信息
2. 数据库的结构截图
3. 网站显示的内容

我会继续帮你解决！


